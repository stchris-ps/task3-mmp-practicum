Instruction for server:
This repository contains docker-file and all enviroment for its building and using.
This server is wrapper of ensemble models random_forest and gradient_boosting with MSE-loss.

Server give you the following possibilities:
    1)Creating and teaching one or more models with interactive hyperparameter setting.
    2)Predicting. Test set must have the same structure with train set.
    3)You can watch information about train loss of every trained model.

The server runs on port 8000. For running clone this repository and type in terminal `docker run --rm -p 8000:8000 -v "PATH_TO_DATA:/root/server/useful/data" -i ensembles_serv`
PATH_TO_DATA - path to directory with train sets and where you want to see files with predictions.

--------------------------------------------------------------------

Инструкция по работе с сервером:

Данный репозиторий содержит докер-файл и все необходимое окружение для его сборки и дальнейшего использования.
Сам сервер представляет собой обертку над ансамблевыми алгоритмами регрессии random_forest и gradient_boosting, минимизирующими функцию потерь MSE.
Сервер предоставляет следующие возможности:
    1)Создание и обучение одной или нескольких моделей с возможностью задания их гиперпараметров. Обучение происходит по обучающей выборке, из которой автоматически удаляются все категориальные и текстовые признаки.
    2)Предсказание выборки объектов, которая содержится в csv файле и имеют такой же вид как и обучающая выборка.
    3)Возможность простмотра информации о поведении и гиперпараметрах каждой обученной модели.

Запуск сервера:
Сервер запускается на порте номер 8000.
Для запуска докер-образа необходимо ввести комманду:
docker run --rm -p 8000:8000 -v "PATH_TO_DATA:/root/server/useful/data" -i ensembles_serv

где PATH_TO_DATA путь до директории, в которой вы хотите хранить обучающие выборки и куда выгружать сsv-файлы с предсказаниями.

Работа с сервером:
При переходе по предложенной ссылке вас перекинет на страницу выбора модели, где вам предложат выбрать модель из списка доступных. Если вы никаких моделей не обучали, то список доступных моделей должен быть пустым. Нужно создать новую модель. Для этого нажмите на кнопку "create new model". Вас перенаправит на страницу настройки новой модели, где вы сможете задать ее гиперпараметры и выбрать csv файл с данными  и значениями целевой переменной для обучения модели. Оба этих файла должны находиться в директории с путем PATH_TO_DATA, который вы указали при запуске сервера. Если вы хотите, чтобы модель отслеживала не только значение функции потерь на обучающей выборке, но и смотрела точность на валидационной, укажите в параметре test_part десятичную дробь. Доля объектов обучающей выборки, равная указанной дроби, будет считаться валидационной выборкой. Обучение на них производиться не будет, а будет отслеживаться точность предсказания после добавления каждого нового дерева. Если вам это не нужно, укажите в поле этого параметра 0.0.
После настройки гиперпараметров нажмите кнопку "fit model!". Модель обучится и вас перенапрвит на страницу выбора модели, где в списке доступных будет видна ваша модель(её номер, имя и точность на валидационной выборке при ненулевом test_part). Если вы хотите сделать предсказание, введите в соответствующее поле имя(только имя!) желаемой модели и нажмите кнопку "predict setting". Вас перенаправит на страницу настройки предсказания, где будет представлена информация о гиперпараметрах модели, обучающей выборке и графики поведения модели при обучении(второй график поведения точности на валидационной выборке будет отсутствовать, если test_part=0.0).
Для предсказания вам нужно указать файл с данными(файл должен находиться в директории с путем PATH_TO_DATA, который вы указали при запуске сервера), указать имя, которое вы бы хотели дать файлу с предсказаниями и нажать "Predict!". Предсказание будет сделано и выгружено в директорию с путем PATH_TO_DATA, а вас перенаправит на страницу выбора модели.

Недостатки сервера:
При создании модели с именем, совпадающим с каким-либо из имен уже существующей модели(модели из списка доступных) предыдущая модель затрется и данные о ней будут уничтожены. На её место встанет новая.
При указании имени файла с предсказаниями, если оно совпадет с именем уже существующего файла, то предыдущий файл будет уничтожен, на его место встанет новый.
